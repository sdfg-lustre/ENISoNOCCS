const inx=3;const outx=2; 
const iny=1;const outy=1;

node top1 (x0, y0:int) returns (x, y, x1, y1: int;  Ta, Tb, blocage:bool);

var  Px, Cx, Delayedx,
     Py, Cy, Delayedy: int;


let
   Ta=(x >=inx);
   (Cx, Py) =  if  Ta then (inx,outy) else (0,0);


   x1= (x- Cx+ Px);
   x= x0-> (pre x1);
    
  Tb= (y>=iny);
  (Cy,Px) =  if  Tb then (iny,outy) else (0,0);
   y1= (y- Cy+ Py);
   y= y0-> (pre y1);

   blocage= (Ta=0) and (Tb=0) ;
tel
